import{f as e,D as t,d as a,q as i,e as l,C as s,o as d,c as o,k as r,w as n,a as m,I as c,G as u,J as f,z as p,F as h,M as T,N as y,H as w,a1 as S,L as _,a0 as b,_ as g}from"./index-4bfb878d.js";import{u as v}from"./useVxeCrudSchemas-092b8963.js";import{b as C,c as E}from"./index-75b6ac0a.js";import{u as k}from"./useXTable-309dffed.js";const x=e({primaryKey:"id",primaryTitle:"编号",primaryType:"id",action:!0,actionWidth:"200",columns:[{title:"用户编号",field:"userId",isSearch:!0},{title:"用户类型",field:"userType",dictType:t.USER_TYPE,dictClass:"string",isSearch:!0,table:{width:80}},{title:"模版编号",field:"templateId"},{title:"模板编码",field:"templateCode",isSearch:!0,table:{width:80}},{title:"发送人名称",field:"templateNickname",table:{width:120}},{title:"模版内容",field:"templateContent",table:{width:200}},{title:"模版类型",field:"templateType",dictType:t.SYSTEM_NOTIFY_TEMPLATE_TYPE,dictClass:"number",isSearch:!0,table:{width:80}},{title:"模版参数",field:"templateParams",isTable:!1},{title:"是否已读",field:"readStatus",dictType:t.INFRA_BOOLEAN_STRING,dictClass:"boolean",table:{width:80}},{title:"阅读时间",field:"readTime",formatter:"formatDate",table:{width:180}},{title:"创建时间",field:"createTime",isForm:!1,formatter:"formatDate",search:{show:!0,itemRender:{name:"XDataTimePicker"}},table:{width:180}}]}),{allSchemas:I}=v(x),N=a({name:"NotifyMessage"}),R=g(a({...N,setup(e){const{t:t}=i(),[a]=k({allSchemas:I,topActionSlots:!1,getListApi:C}),g=l(!1),v=l("edit"),x=l(!1),N=l(""),R=l(!1),M=l(),P=async e=>{var a;a="detail",x.value=!0,v.value=t("action."+a),N.value=a,g.value=!0;const i=await E(e);M.value=i,x.value=!1};return(e,i)=>{const l=T,C=y,E=w,k=S,j=_,A=b,D=s("hasPermi");return d(),o(h,null,[r(E,null,{default:n((()=>[r(C,{onRegister:m(a)},{actionbtns_default:n((({row:e})=>[c(r(l,{preIcon:"ep:view",title:m(t)("action.detail"),onClick:t=>P(e.id)},null,8,["title","onClick"]),[[D,["system:notify-message:query"]]])])),_:1},8,["onRegister"])])),_:1}),r(A,{id:"messageModel",loading:m(x),modelValue:m(g),"onUpdate:modelValue":i[1]||(i[1]=e=>p(g)?g.value=e:null),title:m(v)},{footer:n((()=>[r(j,{loading:m(R),title:m(t)("dialog.close"),onClick:i[0]||(i[0]=e=>g.value=!1)},null,8,["loading","title"])])),default:n((()=>["detail"===m(N)?(d(),u(k,{key:0,schema:m(I).detailSchema,data:m(M)},null,8,["schema","data"])):f("",!0)])),_:1},8,["loading","modelValue","title"])],64)}}}),[["__file","/Users/alex/Downloads/万界星空/产品研发/MES框架/dev/xiejinrun/new_open_mes_front/src/views/system/notify/message/index.vue"]]);export{R as default};
