import{d as e,q as a,K as l,e as t,a6 as s,C as n,o,G as i,w as r,k as u,j as c,X as p,a as m,z as f,c as d,I as v,t as _,J as g,a8 as y,cj as h,Z as O,v as k,E as C,M as S,a9 as J,H as x,_ as j}from"./index-4bfb878d.js";import{_ as z}from"./Dialog-da8c6c8d.js";const N={class:"mb-2 float-right"},b={key:0,ref:"editor"},w={class:"hljs"},D={key:1,style:{color:"red"}},E=e({name:"Build"}),V=j(e({...E,setup(e){const{t:j}=a(),E=l(),V=t(),H=t(!1),M=t(""),R=t(!1),U=t(-1),$=t(""),q=e=>{H.value=!0,M.value=e},A=()=>{q("导入JSON--未实现")},B=()=>{q("导入Options--未实现")},G=()=>{q("生成JSON"),U.value=0,$.value=V.value.getRule()},I=()=>{q("生成Options"),U.value=1,$.value=V.value.getOption()},K=()=>{q("生成组件"),U.value=2,$.value=X()},X=()=>{const e=V.value.getRule(),a=V.value.getOption();return`<template>\n  <form-create\n    v-model="fapi"\n    :rule="rule"\n    :option="option"\n    @submit="onSubmit"\n  ></form-create>\n</template>\n<script setup lang=ts>\n  import formCreate from "@form-create/element-ui";\n  const faps = ref(null)\n  const rule = ref('')\n  const option = ref('')\n  const init = () => {\n    rule.value = formCreate.parseJson('${h.toJson(e).replaceAll("\\","\\\\")}')\n    option.value = formCreate.parseJson('${JSON.stringify(a)}')\n  }\n  const onSubmit = (formData) => {\n    //todo 提交表单\n  }\n  init()\n<\/script>`};return(e,a)=>{const l=O,t=k,h=s("fc-designer"),U=C,q=S,X=J,Z=z,F=x,L=n("highlight");return o(),i(F,null,{default:r((()=>[u(U,null,{default:r((()=>[u(t,null,{default:r((()=>[c("div",N,[u(l,{size:"small",onClick:A},{default:r((()=>[p(" 导入JSON")])),_:1}),u(l,{size:"small",onClick:B},{default:r((()=>[p(" 导入Options")])),_:1}),u(l,{size:"small",type:"primary",onClick:G},{default:r((()=>[p("生成JSON")])),_:1}),u(l,{size:"small",type:"success",onClick:I},{default:r((()=>[p("生成Options")])),_:1}),u(l,{size:"small",type:"danger",onClick:K},{default:r((()=>[p("生成组件")])),_:1})])])),_:1}),u(t,null,{default:r((()=>[u(h,{ref_key:"designer",ref:V,height:"780px"},null,512)])),_:1})])),_:1}),u(Z,{title:m(M),modelValue:m(H),"onUpdate:modelValue":a[1]||(a[1]=e=>f(H)?H.value=e:null),maxHeight:"600"},{default:r((()=>[m(H)?(o(),d("div",b,[u(q,{style:{float:"right"},title:m(j)("common.copy"),onClick:a[0]||(a[0]=e=>(async e=>{const{copy:a,copied:l,isSupported:t}=y({source:e});t?(await a(),m(l)&&E.success(j("common.copySuccess"))):E.error(j("common.copyError"))})(m($)))},null,8,["title"]),u(X,{height:"580"},{default:r((()=>[v((o(),d("div",null,[c("code",w,_(m($)),1)])),[[L]])])),_:1})],512)):g("",!0),m(R)?(o(),d("span",D,"输入内容格式有误!")):g("",!0)])),_:1},8,["title","modelValue"])])),_:1})}}}),[["__file","/Users/alex/Downloads/万界星空/产品研发/MES框架/dev/xiejinrun/new_open_mes_front/src/views/infra/build/index.vue"]]);export{V as default};
