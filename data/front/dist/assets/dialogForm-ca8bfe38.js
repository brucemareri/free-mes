import{r as a,d as e,f as l,e as d,o,G as t,w as m,k as r,J as s,c as u,F as i,n,a as c,X as p,t as F,aR as b,aH as g,aa as f,ab as V,v as _,aO as P,at as w,au as D,ac as h,ad as S,E as U,ae as K,_ as y}from"./index-4bfb878d.js";import{e as v,u as C}from"./data-fbe48da5.js";import{c as x}from"./pmOrder-563fbf59.js";const E=async e=>await a.get({url:"/admin-api/mes/md/client/list",params:e}),k=async e=>await a.get({url:`/admin-api/mes/md/client/get/${e}`}),T=async e=>await a.delete({url:"/admin-api/mes/md/client/batch",data:e}),j=async()=>await a.download({url:"/admin-api/mes/md/client/export"}),N=y(e({__name:"dialogForm",props:{customerFormData:{type:Object,default:()=>{}},dialogFormParams:{type:Object,default:()=>{}}},emits:["upDateFormData"],setup(e,{expose:y,emit:E}){const k=e,T=l({clientName:[{required:!0,message:"请输入客户名称",trigger:"blur"}],clientCode:[{required:!0,message:"请输入客户编码",trigger:"blur"}],enableFlag:[{required:!0,message:"请选择是否有效",trigger:"change"}]}),j=d(),N=l({gutter:20,span:7,spanTwo:12});return y({submitForm:()=>{var e;null==(e=null==j?void 0:j.value)||e.validate((e=>{e&&(k.dialogFormParams.id?(async e=>await a.put({url:"/admin-api/mes/md/client/update",data:e}))(k.dialogFormParams).then((a=>{b.success("修改成功"),E("upDateFormData")})):(async e=>await a.post({url:"/admin-api/mes/md/client/save",data:e}))(k.dialogFormParams).then((a=>{b.success("新增成功"),E("upDateFormData")})))}))},resetForm:()=>{j.value&&j.value.resetFields()}}),(a,l)=>{const d=f,b=V,y=_,E=P,O=w,q=D,z=h,G=S,M=U,R=K;return o(),t(R,{model:e.dialogFormParams,rules:T,ref_key:"ruleFormRef",ref:j,"label-width":"120px"},{default:m((()=>[r(M,{gutter:N.gutter},{default:m((()=>[r(y,{span:8},{default:m((()=>[r(b,{label:"客户编码",prop:"clientCode"},{default:m((()=>[r(d,{disabled:"edit"!=e.customerFormData.unKnowState,placeholder:"请输入客户编码",modelValue:e.dialogFormParams.clientCode,"onUpdate:modelValue":l[0]||(l[0]=a=>e.dialogFormParams.clientCode=a)},null,8,["disabled","modelValue"])])),_:1})])),_:1}),"edit"==e.customerFormData.unKnowState?(o(),t(y,{key:0,span:8},{default:m((()=>[r(b,{label:"自动生成"},{default:m((()=>[r(E,{modelValue:e.dialogFormParams.autoGenFlag,"onUpdate:modelValue":l[1]||(l[1]=a=>e.dialogFormParams.autoGenFlag=a),onChange:l[2]||(l[2]=a=>(a=>{if(!a)return;k.dialogFormParams.clientCode="",x("CLIENT_CODE").then((a=>{g((()=>{k.dialogFormParams.clientCode=a}))}))})(e.dialogFormParams.autoGenFlag))},null,8,["modelValue"])])),_:1})])),_:1})):s("",!0),r(y,{span:8},{default:m((()=>[r(b,{label:"客户名称",prop:"clientName"},{default:m((()=>[r(d,{disabled:"edit"!=e.customerFormData.unKnowState,placeholder:"请输入客户名称",modelValue:e.dialogFormParams.clientName,"onUpdate:modelValue":l[3]||(l[3]=a=>e.dialogFormParams.clientName=a)},null,8,["disabled","modelValue"])])),_:1})])),_:1}),r(y,{span:8},{default:m((()=>[r(b,{label:"客户简称"},{default:m((()=>[r(d,{disabled:"edit"!=e.customerFormData.unKnowState,modelValue:e.dialogFormParams.clientNick,"onUpdate:modelValue":l[4]||(l[4]=a=>e.dialogFormParams.clientNick=a),placeholder:"请输入客户简称"},null,8,["disabled","modelValue"])])),_:1})])),_:1}),r(y,{span:8},{default:m((()=>[r(b,{label:"客户英文名称"},{default:m((()=>[r(d,{disabled:"edit"!=e.customerFormData.unKnowState,modelValue:e.dialogFormParams.clientEn,"onUpdate:modelValue":l[5]||(l[5]=a=>e.dialogFormParams.clientEn=a),placeholder:"请输入客户英文名称"},null,8,["disabled","modelValue"])])),_:1})])),_:1}),r(y,{span:8},{default:m((()=>[r(b,{label:"客户类型"},{default:m((()=>[r(q,{disabled:"edit"!=e.customerFormData.unKnowState,modelValue:e.dialogFormParams.clientType,"onUpdate:modelValue":l[6]||(l[6]=a=>e.dialogFormParams.clientType=a),placeholder:"请选择客户类型",clearable:""},{default:m((()=>[(o(!0),u(i,null,n(c(v),((a,e)=>(o(),t(O,{label:a.label,value:a.value,key:e},null,8,["label","value"])))),128))])),_:1},8,["disabled","modelValue"])])),_:1})])),_:1}),r(y,{span:8},{default:m((()=>[r(b,{label:"客户简介"},{default:m((()=>[r(d,{autosize:"",disabled:"edit"!=e.customerFormData.unKnowState,type:"textarea",modelValue:e.dialogFormParams.clientDes,"onUpdate:modelValue":l[7]||(l[7]=a=>e.dialogFormParams.clientDes=a),placeholder:"请输入客户简介"},null,8,["disabled","modelValue"])])),_:1})])),_:1}),r(y,{span:8},{default:m((()=>[r(b,{label:"客户地址"},{default:m((()=>[r(d,{disabled:"edit"!=e.customerFormData.unKnowState,type:"textarea",autosize:"",modelValue:e.dialogFormParams.address,"onUpdate:modelValue":l[8]||(l[8]=a=>e.dialogFormParams.address=a),placeholder:"请输入客户地址"},null,8,["disabled","modelValue"])])),_:1})])),_:1}),r(y,{span:8},{default:m((()=>[r(b,{label:"客户官网"},{default:m((()=>[r(d,{disabled:"edit"!=e.customerFormData.unKnowState,modelValue:e.dialogFormParams.website,"onUpdate:modelValue":l[9]||(l[9]=a=>e.dialogFormParams.website=a),placeholder:"请输入客户官网地址"},null,8,["disabled","modelValue"])])),_:1})])),_:1}),r(y,{span:8},{default:m((()=>[r(b,{label:"客户邮箱"},{default:m((()=>[r(d,{disabled:"edit"!=e.customerFormData.unKnowState,modelValue:e.dialogFormParams.email,"onUpdate:modelValue":l[10]||(l[10]=a=>e.dialogFormParams.email=a),placeholder:"请输入客户邮箱地址"},null,8,["disabled","modelValue"])])),_:1})])),_:1}),r(y,{span:8},{default:m((()=>[r(b,{label:"客户电话"},{default:m((()=>[r(d,{disabled:"edit"!=e.customerFormData.unKnowState,modelValue:e.dialogFormParams.tel,"onUpdate:modelValue":l[11]||(l[11]=a=>e.dialogFormParams.tel=a),placeholder:"请输入客户电话"},null,8,["disabled","modelValue"])])),_:1})])),_:1}),r(y,{span:8},{default:m((()=>[r(b,{label:"社会信用代码"},{default:m((()=>[r(d,{disabled:"edit"!=e.customerFormData.unKnowState,modelValue:e.dialogFormParams.creditCode,"onUpdate:modelValue":l[12]||(l[12]=a=>e.dialogFormParams.creditCode=a),placeholder:"请输入社会信用代码"},null,8,["disabled","modelValue"])])),_:1})])),_:1}),r(y,{span:23}),r(y,{span:8},{default:m((()=>[r(b,{label:"联系人1-姓名"},{default:m((()=>[r(d,{disabled:"edit"!=e.customerFormData.unKnowState,modelValue:e.dialogFormParams.contact1,"onUpdate:modelValue":l[13]||(l[13]=a=>e.dialogFormParams.contact1=a),placeholder:"联系人1-姓名"},null,8,["disabled","modelValue"])])),_:1})])),_:1}),r(y,{span:8},{default:m((()=>[r(b,{label:"联系人1-电话"},{default:m((()=>[r(d,{disabled:"edit"!=e.customerFormData.unKnowState,modelValue:e.dialogFormParams.contact1Tel,"onUpdate:modelValue":l[14]||(l[14]=a=>e.dialogFormParams.contact1Tel=a),placeholder:"请输入联系人1-电话"},null,8,["disabled","modelValue"])])),_:1})])),_:1}),r(y,{span:8},{default:m((()=>[r(b,{label:"联系人1-邮箱"},{default:m((()=>[r(d,{disabled:"edit"!=e.customerFormData.unKnowState,modelValue:e.dialogFormParams.contact1Email,"onUpdate:modelValue":l[15]||(l[15]=a=>e.dialogFormParams.contact1Email=a),placeholder:"联系人1-邮箱"},null,8,["disabled","modelValue"])])),_:1})])),_:1}),r(y,{span:8},{default:m((()=>[r(b,{label:"联系人2-姓名"},{default:m((()=>[r(d,{disabled:"edit"!=e.customerFormData.unKnowState,modelValue:e.dialogFormParams.contact2,"onUpdate:modelValue":l[16]||(l[16]=a=>e.dialogFormParams.contact2=a),placeholder:"联系人2-姓名"},null,8,["disabled","modelValue"])])),_:1})])),_:1}),r(y,{span:8},{default:m((()=>[r(b,{label:"联系人2-电话"},{default:m((()=>[r(d,{disabled:"edit"!=e.customerFormData.unKnowState,modelValue:e.dialogFormParams.contact2Tel,"onUpdate:modelValue":l[17]||(l[17]=a=>e.dialogFormParams.contact2Tel=a),placeholder:"联系人2-电话"},null,8,["disabled","modelValue"])])),_:1})])),_:1}),r(y,{span:8},{default:m((()=>[r(b,{label:"联系人2-邮箱"},{default:m((()=>[r(d,{disabled:"edit"!=e.customerFormData.unKnowState,modelValue:e.dialogFormParams.contact2Email,"onUpdate:modelValue":l[18]||(l[18]=a=>e.dialogFormParams.contact2Email=a),placeholder:"联系人2-邮箱"},null,8,["disabled","modelValue"])])),_:1})])),_:1}),r(y,{span:8},{default:m((()=>[r(b,{label:"备注"},{default:m((()=>[r(d,{disabled:"edit"!=e.customerFormData.unKnowState,type:"textarea",modelValue:e.dialogFormParams.remark,"onUpdate:modelValue":l[19]||(l[19]=a=>e.dialogFormParams.remark=a),autosize:"",placeholder:"请输入备注"},null,8,["disabled","modelValue"])])),_:1})])),_:1}),r(y,{span:8},{default:m((()=>[r(b,{label:"是否有效",prop:"enableFlag"},{default:m((()=>[r(G,{disabled:"edit"!=e.customerFormData.unKnowState,modelValue:e.dialogFormParams.enableFlag,"onUpdate:modelValue":l[20]||(l[20]=a=>e.dialogFormParams.enableFlag=a)},{default:m((()=>[(o(!0),u(i,null,n(c(C),(({label:a,value:e},l)=>(o(),t(z,{label:e,key:l},{default:m((()=>[p(F(a),1)])),_:2},1032,["label"])))),128))])),_:1},8,["disabled","modelValue"])])),_:1})])),_:1})])),_:1},8,["gutter"])])),_:1},8,["model","rules"])}}}),[["__file","/Users/alex/Downloads/万界星空/产品研发/MES框架/dev/xiejinrun/new_open_mes_front/src/views/masterData/clientManage/components/dialogForm.vue"]]),O=Object.freeze(Object.defineProperty({__proto__:null,default:N},Symbol.toStringTag,{value:"Module"}));export{T as a,j as b,O as c,N as d,E as g,k as q};
