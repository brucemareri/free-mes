import{d as e,f as a,e as t,g as r,o as n,G as s,w as i,k as o,a as l,v as m,E as p,H as d,_ as c}from"./index-4bfb878d.js";import u from"./treeMaterial-8ad0b7b2.js";import f from"./materialData-53b67350.js";import{q as g,a as y}from"./index-cbc4edd9.js";import{h}from"./tree-5260b4e2.js";import"./index-6c8a85ac.js";import"./productForm-b483527f.js";import"./index-f736ac6b.js";import"./index-b10e131e.js";import"./const-f443e30b.js";const j=c(e({__name:"index",setup(e){const c=a({machineryTypeName:"",treeData:t([]),treeProps:{children:"children",label:"machineryTypeName"}}),j=a({machineryCode:"",machineryName:"",machineryTypeId:"",status:""});let x=t([]);const _=a({total:0,pageSize:10,pageSizes:[5,10,15,20],currentPage:1}),v=t(!1),S=e=>{j.machineryTypeId=e,b()},b=()=>{const e={...j,pageNo:_.currentPage,pageSize:_.pageSize};v.value=!0,y(e).then((e=>{const{list:a=[],total:t}=e||{};x.value=a,_.total=t})).finally((()=>{v.value=!1}))},N=e=>{b()},P=()=>{b()},T=e=>{b()};return r((()=>{g().then((e=>{const a=h(e.list,"id","parentTypeId")[0];c.treeData.push(a)})),b()})),(e,a)=>{const t=m,r=p,g=d;return n(),s(g,null,{default:i((()=>[o(r,{gutter:20},{default:i((()=>[o(t,{span:4,xs:24},{default:i((()=>[o(u,{"tree-material-form":c,onNodeClick:S},null,8,["tree-material-form"])])),_:1}),o(t,{span:20,xs:24},{default:i((()=>[o(f,{onSearchParams:N,onResetSearch:P,"query-params":j,"table-data":l(x),"pagination-data":_,"loading-table":l(v),onHandlePagination:T,"tree-material-form":c},null,8,["query-params","table-data","pagination-data","loading-table","tree-material-form"])])),_:1})])),_:1})])),_:1})}}}),[["__file","/Users/alex/Downloads/万界星空/产品研发/MES框架/dev/xiejinrun/new_open_mes_front/src/views/facilityManage/ledger/index.vue"]]);export{j as default};
