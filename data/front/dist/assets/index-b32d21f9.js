import{f as e,D as t,d as a,C as s,o as i,G as o,w as r,H as n,k as l,I as c,J as m,a as d,K as p,L as u,M as y,N as f,_ as h}from"./index-4bfb878d.js";import{u as _}from"./useVxeCrudSchemas-092b8963.js";import{g as w,u as T,a as b}from"./index-75b6ac0a.js";import{u as S}from"./useXTable-309dffed.js";const k=e({primaryKey:"id",primaryTitle:" ",primaryType:"checkbox",action:!0,actionWidth:"200",columns:[{title:"发送人名称",field:"templateNickname",table:{width:120}},{title:"发送时间",field:"createTime",isForm:!1,formatter:"formatDate",search:{show:!0,itemRender:{name:"XDataTimePicker"}},table:{width:180}},{title:"类型",field:"templateType",dictType:t.SYSTEM_NOTIFY_TEMPLATE_TYPE,dictClass:"number",table:{width:80}},{title:"内容",field:"templateContent"},{title:"是否已读",field:"readStatus",dictType:t.INFRA_BOOLEAN_STRING,dictClass:"boolean",table:{width:80},isSearch:!0}]}),{allSchemas:C}=_(k),x=a({name:"MyNotifyMessage"}),g=h(a({...x,setup(e){const t=p(),[a,{reload:h,getCheckboxRecords:_}]=S({allSchemas:C,getListApi:w}),k=async()=>{const e=_();0!==e.length&&await x(e.map((e=>e.id)))},x=async e=>{await T(e),t.success("标记已读成功！"),h()},g=async()=>{await b(),t.success("全部已读成功！"),h()};return(e,t)=>{const p=u,h=y,_=f,w=n,T=s("hasPermi");return i(),o(w,null,{default:r((()=>[l(_,{onRegister:d(a)},{toolbar_buttons:r((()=>[l(p,{type:"primary",preIcon:"ep:zoom-in",title:"标记已读",onClick:k}),l(p,{type:"primary",preIcon:"ep:zoom-in",title:"全部已读",onClick:g})])),actionbtns_default:r((({row:e})=>[e.readStatus?m("",!0):c((i(),o(h,{key:0,preIcon:"ep:view",title:"已读",onClick:t=>x([e.id])},null,8,["onClick"])),[[T,["system:notify-message:query"]]])])),_:1},8,["onRegister"])])),_:1})}}}),[["__file","/Users/alex/Downloads/万界星空/产品研发/MES框架/dev/xiejinrun/new_open_mes_front/src/views/system/notify/my/index.vue"]]);export{g as default};
