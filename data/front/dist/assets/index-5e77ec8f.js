import{f as e,D as a,r as t,d as l,q as i,e as s,o,c as n,k as r,w as d,a as u,z as m,F as c,L as p,M as f,N as g,H as _,a1 as y,a0 as S,_ as h}from"./index-4bfb878d.js";import{u as x}from"./useVxeCrudSchemas-092b8963.js";import{u as T}from"./useXTable-309dffed.js";const w=e({primaryKey:"id",primaryType:"id",primaryTitle:"日志编号",action:!0,actionWidth:"100px",columns:[{title:"日志类型",field:"logType",dictType:a.SYSTEM_LOGIN_TYPE,dictClass:"number"},{title:"用户名称",field:"username",isSearch:!0},{title:"登录地址",field:"userIp",isSearch:!0},{title:"浏览器",field:"userAgent"},{title:"登陆结果",field:"result",dictType:a.SYSTEM_LOGIN_RESULT,dictClass:"number"},{title:"登录日期",field:"createTime",formatter:"formatDate",table:{width:150},search:{show:!0,itemRender:{name:"XDataTimePicker"}}}]}),{allSchemas:v}=x(w),L=e=>t.get({url:"/admin-api/system/login-log/page",params:e}),b=e=>t.download({url:"/admin-api/system/login-log/export",params:e}),C=l({name:"Loginlog"}),k=h(l({...C,setup(e){const{t:a}=i(),[t,{exportList:l}]=T({allSchemas:v,getListApi:L,exportListApi:b}),h=s(),x=s(!1),w=s(a("action.detail"));return(e,i)=>{const s=p,T=f,L=g,b=_,C=y,k=S;return o(),n(c,null,[r(b,null,{default:d((()=>[r(L,{onRegister:u(t)},{toolbar_buttons:d((()=>[r(s,{type:"warning",preIcon:"ep:download",title:u(a)("action.export"),onClick:i[0]||(i[0]=e=>u(l)("登录列表.xls"))},null,8,["title"])])),actionbtns_default:d((({row:e})=>[r(T,{preIcon:"ep:view",title:u(a)("action.detail"),onClick:a=>(async e=>{h.value=e,x.value=!0})(e)},null,8,["title","onClick"])])),_:1},8,["onRegister"])])),_:1}),r(k,{id:"postModel",modelValue:u(x),"onUpdate:modelValue":i[2]||(i[2]=e=>m(x)?x.value=e:null),title:u(w)},{footer:d((()=>[r(s,{title:u(a)("dialog.close"),onClick:i[1]||(i[1]=e=>x.value=!1)},null,8,["title"])])),default:d((()=>[r(C,{schema:u(v).detailSchema,data:u(h)},null,8,["schema","data"])])),_:1},8,["modelValue","title"])],64)}}}),[["__file","/Users/alex/Downloads/万界星空/产品研发/MES框架/dev/xiejinrun/new_open_mes_front/src/views/system/loginlog/index.vue"]]);export{k as default};
