import{f as e,d as a,e as l,g as o,o as t,c as d,k as n,w as p,a as u,j as s,F as r,n as i,G as m,X as c,t as f,aK as b,H as _,Z as v,aa as y,ab as h,v as k,E as V,at as g,au as w,aL as x,ae as C,a0 as U,_ as j}from"./index-4bfb878d.js";import{c as S}from"./index-529a6cde.js";import{c as D}from"./index-6c8a85ac.js";import{g as T}from"./workHoursType-c6ffc484.js";const z=e([{type:"input",label:"任务单号",prop:"input",placeholder:"请输入任务单号"},{type:"select",label:"工时类别",prop:"workhoursType",placeholder:"请选择工时类别",options:[]},{type:"date",label:"填报日期",prop:"input",placeholder:"请选择填报日期"},{type:"input",label:"人员姓名",prop:"input",placeholder:"请输入人员姓名"},{type:"input",label:"人员编号",prop:"input",placeholder:"请输入人员编号"}]),F=e([{type:"primary",icon:"plus",state:"save",label:"新增",disabled:!1,permissions:[]},{type:"success",icon:"edit",state:"edit",label:"修改",disabled:!0,permissions:[]},{type:"danger",icon:"delete",state:"remove",label:"删除",disabled:!0,permissions:[]}]),H=[{label:"任务单号",slot:"processCode"},{prop:"remark",label:"填报日期"},{prop:"remark",label:"人员姓名"},{prop:"remark",label:"人员编号"},{prop:"remark",label:"工时类别"},{prop:"remark",label:"工时时长"},{prop:"remark",label:"生产数量"},{prop:"remark",label:"备注"},{label:"操作",slot:"operation",width:"120",fixed:"right"}],P={style:{"margin-bottom":"20px"}},E={class:"dialog-footer"},M=j(a({__name:"index",setup(a){const j=l(),M=e({}),B=e({input:"",select:""});let G=e({total:0,pageSize:10,pageSizes:[5,10,15,20],currentPage:1});const K=l(!1),L=l(!1);let Q=e([]),R=l(""),X=l([]),Z=l({data:""});const q=l([]),A=()=>{ae()},I=async()=>{},J=e=>{},N=()=>{R.value="添加工时填报",L.value=!0},O=e=>{R.value="修改",(null==e?void 0:e.id)||X.value[0]},W=e=>{(null==e?void 0:e.id)||X.value,b.confirm("是否删除当前数据?").then((()=>{}))},Y=e=>{G=null==e?void 0:e.value,ae()},$=async()=>{j.value&&await j.value.validate((e=>{}))},ee=()=>{Z.value={},L.value=!1},ae=()=>{G.currentPage,G.pageSize},le=()=>{ae(),T({}).then((e=>{const{list:a=[]}=e||{};q.value=a.map((e=>({label:e.workhoursType,value:e.workhoursType}))),z[1].options=q.value})).finally((()=>{K.value=!1}))};return o((()=>{le()})),(e,a)=>{const l=_,o=v,b=y,T=h,X=k,ae=V,le=g,oe=w,te=x,de=C,ne=U;return t(),d(r,null,[n(l,null,{default:p((()=>[n(S,{"conditions-list":u(z),"search-model":B,onQueryData:A},null,8,["conditions-list","search-model"])])),_:1}),n(l,null,{default:p((()=>[s("div",P,[(t(!0),d(r,null,i(u(F),((e,a)=>(t(),m(o,{plain:"",type:e.type,key:a,icon:e.icon,disabled:e.disabled,onClick:a=>(e=>{switch(e){case"save":N();break;case"edit":O();break;case"remove":W();break;case"download":I()}})(e.state)},{default:p((()=>[c(f(e.label),1)])),_:2},1032,["type","icon","disabled","onClick"])))),128))]),n(D,{loading:K.value,isSelection:!0,columns:u(H),tableData:u(Q),pagination:u(G),onSelectionChange:J,onPaginationChange:Y},{operation:p((({scope:e})=>[n(o,{link:"",type:"primary",onClick:a=>O(e.row)},{default:p((()=>[c("修改")])),_:2},1032,["onClick"]),n(o,{link:"",type:"danger",onClick:a=>W(e.row)},{default:p((()=>[c("删除")])),_:2},1032,["onClick"])])),_:1},8,["loading","columns","tableData","pagination"])])),_:1}),n(ne,{width:"70%",modelValue:L.value,"onUpdate:modelValue":a[8]||(a[8]=e=>L.value=e),title:u(R),onBeforeClose:ee},{footer:p((()=>[s("span",E,[n(o,{type:"primary",onClick:$},{default:p((()=>[c(" 提交 ")])),_:1}),n(o,{onClick:ee},{default:p((()=>[c("返回")])),_:1})])])),default:p((()=>[n(de,{ref_key:"ruleFormRef",ref:j,model:u(Z),rules:M,"label-width":"100px"},{default:p((()=>[n(ae,null,{default:p((()=>[n(X,{span:8},{default:p((()=>[n(T,{label:"任务单号",prop:"data"},{default:p((()=>[n(b,{modelValue:u(Z).data,"onUpdate:modelValue":a[0]||(a[0]=e=>u(Z).data=e),placeholder:"请输入任务单号"},null,8,["modelValue"])])),_:1})])),_:1}),n(X,{span:8},{default:p((()=>[n(T,{label:"填报日期",prop:"data"},{default:p((()=>[n(b,{modelValue:u(Z).data,"onUpdate:modelValue":a[1]||(a[1]=e=>u(Z).data=e),placeholder:"请输入人员姓名"},null,8,["modelValue"])])),_:1})])),_:1}),n(X,{span:8},{default:p((()=>[n(T,{label:"人员姓名",prop:"data"},{default:p((()=>[n(b,{modelValue:u(Z).data,"onUpdate:modelValue":a[2]||(a[2]=e=>u(Z).data=e),placeholder:"请输入人员姓名"},null,8,["modelValue"])])),_:1})])),_:1}),n(X,{span:8},{default:p((()=>[n(T,{label:"人员编号",prop:"data"},{default:p((()=>[n(b,{modelValue:u(Z).data,"onUpdate:modelValue":a[3]||(a[3]=e=>u(Z).data=e),placeholder:"请输入人员编号"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),n(ae,null,{default:p((()=>[n(X,{span:8},{default:p((()=>[n(T,{label:"工时类别",prop:"data"},{default:p((()=>[n(oe,{modelValue:u(Z).data,"onUpdate:modelValue":a[4]||(a[4]=e=>u(Z).data=e),placeholder:"请选择工时类别"},{default:p((()=>[(t(!0),d(r,null,i(q.value,(e=>(t(),m(le,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1}),n(X,{span:8},{default:p((()=>[n(T,{label:"工时时长",prop:"data"},{default:p((()=>[n(te,{min:"0",modelValue:u(Z).data,"onUpdate:modelValue":a[5]||(a[5]=e=>u(Z).data=e),placeholder:"工时时长"},null,8,["modelValue"])])),_:1})])),_:1}),n(X,{span:8},{default:p((()=>[n(T,{label:"生产数量",prop:"data"},{default:p((()=>[n(te,{min:"0",modelValue:u(Z).data,"onUpdate:modelValue":a[6]||(a[6]=e=>u(Z).data=e),placeholder:"生产数量"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),n(T,{label:"备注",prop:"data"},{default:p((()=>[n(b,{modelValue:u(Z).data,"onUpdate:modelValue":a[7]||(a[7]=e=>u(Z).data=e),type:"textarea",placeholder:"请输入备注"},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["modelValue","title"])],64)}}}),[["__file","/Users/alex/Downloads/万界星空/产品研发/MES框架/dev/xiejinrun/new_open_mes_front/src/views/achievementManage/workHoursFill/index.vue"]]);export{M as default};
