import{d as e,e as a,g as l,a6 as s,o as t,G as o,w as n,k as u,c as d,F as m,n as i,a as r,J as p,aa as c,at as h,au as b,aC as v,Z as _,_ as f}from"./index-4bfb878d.js";import{c as g}from"./index-6c8a85ac.js";import{p as P}from"./data-c99d5db7.js";import{a as w,g as k}from"./shiftSet-d38e6bbc.js";const V=f(e({__name:"scheduling_plan_table",props:{schedulingPlanTableDataList:Array},setup(e){const f=e,V=a(!1);a([{label:"白班",value:"白班"},{label:"中班",value:"中班"},{label:"晚班",value:"晚班"}]),a([{label:"两班倒",value:"两班倒"},{label:"三班倒",value:"三班倒"},{label:"四班倒",value:"四班倒"}]);const N=()=>{f.schedulingPlanTableDataList.push({shiftNum:"",shiftName:"",shiftType:"",teamNum:"",teamName:"",teamPeople:"",shiftLength:"",shiftPattern:"",shiftPatterns:"",startDate:"",endDate:"",remark:""})},D=a([]),x=async e=>{await w(e).then((e=>{D.value=e.map((e=>({value:e.userName,label:e.userName})))}))},y=a([]);return l((()=>{k({}).then((e=>{const{list:a=[]}=e||{};y.value=a.map((e=>({value:e.teamCode,label:e.teamCode})))}))})),(a,l)=>{const w=c,k=h,y=b,U=s("Plus"),C=v,L=_,T=s("Minus");return t(),o(g,{loading:r(V),columns:r(P),tableData:e.schedulingPlanTableDataList,isShowPagination:!1,height:250},{teamName:n((({scope:e})=>[u(w,{modelValue:e.row.teamName,"onUpdate:modelValue":a=>e.row.teamName=a,disabled:""},null,8,["modelValue","onUpdate:modelValue"])])),teamPeople:n((({scope:a})=>[u(y,{modelValue:a.row.teamPeople,"onUpdate:modelValue":e=>a.row.teamPeople=e,placeholder:"请选择人员名称",disabled:""==e.schedulingPlanTableDataList[a.$index].teamNum,onFocus:e=>(async e=>{x(e)})(a.row.teamNum)},{default:n((()=>[(t(!0),d(m,null,i(r(D),(e=>(t(),o(k,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue","disabled","onFocus"])])),remark:n((({scope:e})=>[u(w,{modelValue:e.row.remark,"onUpdate:modelValue":a=>e.row.remark=a,autosize:"",type:"textarea",placeholder:"请输入备注"},null,8,["modelValue","onUpdate:modelValue"])])),operate:n((({scope:e})=>[u(L,{link:"",type:"success",onClick:N},{default:n((()=>[u(C,null,{default:n((()=>[u(U)])),_:1})])),_:1}),0!==e.$index?(t(),o(L,{key:0,link:"",type:"danger",onClick:a=>{return l=e.$index,void f.schedulingPlanTableDataList.splice(l,1);var l}},{default:n((()=>[u(C,null,{default:n((()=>[u(T)])),_:1})])),_:2},1032,["onClick"])):p("",!0)])),_:1},8,["loading","columns","tableData"])}}}),[["__scopeId","data-v-481da0d2"],["__file","/Users/alex/Downloads/万界星空/产品研发/MES框架/dev/xiejinrun/new_open_mes_front/src/views/scheduling/schedulingPlan/components/scheduling_plan_table.vue"]]);export{V as default};
