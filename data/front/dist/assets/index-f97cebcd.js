import{q as e,f as a,D as t,r as s,d as l,K as i,e as o,C as n,o as r,c,k as m,w as u,a as d,I as f,z as p,F as h,M as k,N as y,H as T,a1 as S,L as _,a0 as v,_ as w}from"./index-4bfb878d.js";import{u as C}from"./useVxeCrudSchemas-092b8963.js";import{u as g}from"./useXTable-309dffed.js";const{t:x}=e(),I=a({primaryKey:"id",primaryType:null,action:!0,columns:[{title:"用户编号",field:"userId",isSearch:!0},{title:"访问令牌",field:"accessToken"},{title:"刷新令牌",field:"refreshToken"},{title:"客户端编号",field:"clientId",isSearch:!0},{title:"用户类型",field:"userType",dictType:t.USER_TYPE,dictClass:"number",isSearch:!0},{title:x("common.createTime"),field:"createTime",formatter:"formatDate",isForm:!1},{title:"过期时间",field:"expiresTime",formatter:"formatDate",isForm:!1}]}),{allSchemas:j}=C(I),D=e=>s.get({url:"/admin-api/system/oauth2-token/page",params:e}),V=l({name:"Token"}),b=w(l({...V,setup(a){const{t:t}=e(),l=i(),[w,{reload:C}]=g({allSchemas:j,topActionSlots:!1,getListApi:D}),x=o(),I=o(!1),V=o(t("action.detail")),b=e=>{l.confirm("是否要强制退出用户").then((async()=>{var a;await(a=e,s.delete({url:"/admin-api/system/oauth2-token/delete?accessToken="+a})),l.success(t("common.success"))})).finally((async()=>{await C()}))};return(e,a)=>{const s=k,l=y,i=T,o=S,C=_,g=v,D=n("hasPermi");return r(),c(h,null,[m(i,null,{default:u((()=>[m(l,{onRegister:d(w)},{actionbtns_default:u((({row:e})=>[m(s,{preIcon:"ep:view",title:d(t)("action.detail"),onClick:a=>(async e=>{x.value=e,I.value=!0})(e)},null,8,["title","onClick"]),f(m(s,{preIcon:"ep:delete",title:d(t)("action.logout"),onClick:a=>b(e.id)},null,8,["title","onClick"]),[[D,["system:oauth2-token:delete"]]])])),_:1},8,["onRegister"])])),_:1}),m(g,{modelValue:d(I),"onUpdate:modelValue":a[1]||(a[1]=e=>p(I)?I.value=e:null),title:d(V)},{footer:u((()=>[m(C,{title:d(t)("dialog.close"),onClick:a[0]||(a[0]=e=>I.value=!1)},null,8,["title"])])),default:u((()=>[m(o,{schema:d(j).detailSchema,data:d(x)},null,8,["schema","data"])])),_:1},8,["modelValue","title"])],64)}}}),[["__file","/Users/alex/Downloads/万界星空/产品研发/MES框架/dev/xiejinrun/new_open_mes_front/src/views/system/oauth2/token/index.vue"]]);export{b as default};
