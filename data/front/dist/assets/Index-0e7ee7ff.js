import{r as e,d as a,u as s,b as t,e as l,f as n,g as i,h as o,i as r,o as c,c as d,j as u,k as m,w as p,F as v,m as f,E as g,l as y,s as b,a as h,t as w,n as x,p as k,q as _,v as j,x as A,y as D,_ as E}from"./index-4bfb878d.js";import{p as O,b as L,E as W}from"./echarts-data-7c1861cc.js";import{u as S}from"./useWatermark-bbe83b57.js";import{e as M}from"./index-eba8b5f4.js";import{L as I}from"./install-0b998475.js";const H=async()=>await e.get({url:"/admin-api/mes/pro/workorder/findWorkerOrderAll"}),P=async()=>await e.get({url:"/admin-api/mes/pro/feedback/unStartOrders"}),R=async()=>await e.get({url:"/admin-api/mes/pro/feedback/completed"}),V=e=>(A("data-v-ec550ec6"),e=e(),D(),e),Y={class:"flex items-center justify-center"},q=["src"],B={class:"text-20px text-700"},C={class:"mt-10px text-14px text-gray-500"},T={class:"mt-10px text-14px text-gray-500"},z=V((()=>u("div",null,[u("div",{class:"loader"},[u("div",{class:"red bar"}),u("div",{class:"orange bar"}),u("div",{class:"yellow bar"}),u("div",{class:"green bar"}),u("div",{class:"blue bar"}),u("div",{class:"violet bar"})])],-1))),G={class:"card-day"},Q=V((()=>u("div",{class:"container"},[u("div",{class:"cloud front"},[u("span",{class:"left-front"}),u("span",{class:"right-front"})]),u("span",{class:"sun sunshine"}),u("span",{class:"sun"}),u("div",{class:"cloud back"},[u("span",{class:"left-back"}),u("span",{class:"right-back"})])],-1))),U={class:"card-header"},F=V((()=>u("span",{class:"temp"},"23°",-1))),J={class:"flex justify-between h-3"},K=V((()=>u("div",{id:"myEcharts",style:{height:"340px"}},null,-1))),N={class:"flex justify-between h-3"},X={class:"cards"},Z=["onClick"],$={class:"tip"},ee={class:"second-text"},ae={class:"flex justify-between h-3"},se=V((()=>u("div",{id:"barEcharts",style:{height:"340px"}},null,-1))),te=a({name:"Home"}),le=E(a({...te,setup(a){const A=s(),{t:D}=_();let E=M;const V=t();S();const te=l(!0),le=V.getUser.nickname,ne=n(O);let ie=n({project:0,access:0,todo:0});const oe=l({tooltip:{trigger:"item"},legend:{top:"2%",left:"left",orient:"vertical"},series:[{name:"生产订单",type:"pie",roseType:"radius",radius:["40%","70%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:2},label:{show:!0,formatter:e=>e.name+" ("+e.value+")"},emphasis:{label:{show:!0,fontSize:40,fontWeight:"bold"}},labelLine:{show:!1},data:[]}]}),re=l({tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",data:[],axisTick:{alignWithLabel:!0}},yAxis:{type:"value"},series:[{label:{show:!0,fontSize:37,position:"inside"},data:[120,200,150,80,70,110,130],type:"bar",showBackground:!0,backgroundStyle:{color:new I(0,0,0,1,[{offset:0,color:"#83bff6"},{offset:.5,color:"#188df0"},{offset:1,color:"#188df0"}])},emphasis:{itemStyle:{color:new I(0,0,0,1,[{offset:0,color:"#2378f7"},{offset:.7,color:"#2378f7"},{offset:1,color:"#83bff6"}])}}}]}),ce=async()=>{ie=Object.assign(ie,{project:40,access:2340,todo:10})},de=[{url:"/prodMgmt/reportWorkTwo",label:"生产报工2",enLabel:"Production report",tips:"red"},{url:"/prodMgmt/reportWork",label:"报工设备",enLabel:"Reporting equipment",tips:"blue"},{url:"/prodMgmt/workHours",label:"工时管理",enLabel:"Working hours management",tips:"green"}];let ue=n([]);const me=async()=>{const e=[{name:"Github",icon:"akar-icons:github-fill",message:"workplace.introduction",personal:"Archer",time:new Date},{name:"Vue",icon:"logos:vue",message:"workplace.introduction",personal:"Archer",time:new Date},{name:"Angular",icon:"logos:angular-icon",message:"workplace.introduction",personal:"Archer",time:new Date},{name:"React",icon:"logos:react",message:"workplace.introduction",personal:"Archer",time:new Date},{name:"Webpack",icon:"logos:webpack",message:"workplace.introduction",personal:"Archer",time:new Date},{name:"Vite",icon:"vscode-icons:file-type-vite",message:"workplace.introduction",personal:"Archer",time:new Date}];ue=Object.assign(ue,e)};let pe=n([]);const ve=async()=>{const e=[{title:"系统升级版本",type:"通知",keys:["通知","升级"],date:new Date},{title:"系统凌晨维护",type:"公告",keys:["公告","维护"],date:new Date},{title:"系统升级版本",type:"通知",keys:["通知","升级"],date:new Date},{title:"系统凌晨维护",type:"公告",keys:["公告","维护"],date:new Date}];pe=Object.assign(pe,e)};let fe=n([]);const ge=async()=>{fe=Object.assign(fe,[{name:"Github",icon:"akar-icons:github-fill",url:"github.io"},{name:"Vue",icon:"logos:vue",url:"vuejs.org"},{name:"Vite",icon:"vscode-icons:file-type-vite",url:"https://vitejs.dev/"},{name:"Angular",icon:"logos:angular-icon",url:"github.io"},{name:"React",icon:"logos:react",url:"github.io"},{name:"Webpack",icon:"logos:webpack",url:"github.io"}])},ye=async()=>{const e=[{value:335,name:"analysis.directAccess"},{value:310,name:"analysis.mailMarketing"},{value:234,name:"analysis.allianceAdvertising"},{value:135,name:"analysis.videoAdvertising"},{value:1548,name:"analysis.searchEngines"}];b(ne,"legend.data",e.map((e=>D(e.name)))),ne.series[0].data=e.map((e=>({name:D(e.name),value:e.value})))},be=n(L),he=async()=>{const e=[{value:13253,name:"analysis.monday"},{value:34235,name:"analysis.tuesday"},{value:26321,name:"analysis.wednesday"},{value:12340,name:"analysis.thursday"},{value:24643,name:"analysis.friday"},{value:1322,name:"analysis.saturday"},{value:1324,name:"analysis.sunday"}];b(be,"xAxis.data",e.map((e=>D(e.name)))),b(be,"series",[{name:D("analysis.activeQuantity"),data:e.map((e=>e.value)),type:"bar"}])};let we=l(),xe=l(),ke=l(),_e=l(["星期日","星期一","星期二","星期三","星期四","星期五","星期六"]),je=l(null);const Ae=()=>{let a=f(E.init(document.getElementById("barEcharts")));(async()=>await e.get({url:"/admin-api/mes/dv/machinery/findStatus"}))().then((e=>{re.value.xAxis.data=e.name,re.value.series[0].data=e.numData,a.setOption(re.value)}))};return i((()=>{(async()=>{await Promise.all([ce(),me(),ve(),ge(),ye(),he()]),te.value=!1})(),(async()=>{let e=f(E.init(document.getElementById("myEcharts")));const a=await Promise.all([H(),P(),R()]);oe.value.series[0].data=a.map((e=>({name:e.name,value:e.totalQuentity}))),e.setOption(oe.value)})(),Ae(),je.value=setInterval((()=>{const e=o(new Date);we.value=e.format("HH:mm:ss"),xe.value=e.format("YYYY-MM-DD"),ke.value=e.format(_e.value[e.day()])}),1e3)})),r((()=>{je.value&&clearInterval(je.value)})),(e,a)=>{const s=j,t=g,l=W,n=y;return c(),d(v,null,[u("div",null,[m(n,{shadow:"never"},{default:p((()=>[m(l,{loading:h(te),animated:""},{default:p((()=>[m(t,{gutter:20,justify:"space-between"},{default:p((()=>[m(s,{xl:12,lg:12,md:12,sm:24,xs:24},{default:p((()=>[u("div",Y,[u("img",{src:h("/assets/avatar-3e7710d1.jpg"),alt:"",class:"w-70px h-70px rounded-[50%] mr-20px"},null,8,q),u("div",null,[u("div",B,w(h(D)("workplace.welcome"))+" "+w(h(le))+" "+w(h(D)("workplace.happyDay")),1),u("div",C,w(h(D)("workplace.toady"))+"，20℃ - 32℃！ ",1),u("div",T,w(h(xe))+" "+w(h(we))+" "+w(h(ke)),1)])]),z])),_:1}),m(s,{xl:12,lg:12,md:12,sm:24,xs:24},{default:p((()=>[u("div",G,[Q,u("div",U,[u("span",null,w(h("万界星空MES")),1),u("span",null,w(h(xe))+" "+w(h(we))+" "+w(h(ke)),1)]),F])])),_:1})])),_:1})])),_:1},8,["loading"])])),_:1})]),m(t,{class:"data-style mt-5px",gutter:20,justify:"space-between"},{default:p((()=>[m(s,{xl:16,lg:16,md:24,sm:24,xs:24,class:"mb-10px"},{default:p((()=>[m(n,{shadow:"never"},{header:p((()=>[u("div",J,[u("span",null,w(h(D)("workplace.project")),1)])])),default:p((()=>[m(t,null,{default:p((()=>[m(s,null,{default:p((()=>[K])),_:1})])),_:1})])),_:1})])),_:1}),m(s,{xl:8,lg:8,md:24,sm:24,xs:24,class:"mb-10px"},{default:p((()=>[m(n,{shadow:"never"},{header:p((()=>[u("div",N,[u("span",null,w(h(D)("workplace.quickOperation")),1)])])),default:p((()=>[m(l,{loading:h(te),animated:""},{default:p((()=>[u("div",X,[(c(),d(v,null,x(de,((e,a)=>u("div",{class:k(["card",e.tips]),onClick:a=>{return s=e.url,void A.push(s);var s},key:a},[u("p",$,w(e.label),1),u("p",ee,w(e.enLabel),1)],10,Z))),64))])])),_:1},8,["loading"])])),_:1})])),_:1}),m(s,{xl:26,lg:26,md:24,sm:24,xs:24,class:"mb-10px"},{default:p((()=>[m(n,{shadow:"never"},{header:p((()=>[u("div",ae,[u("span",null,w(h(D)("workplace.shortcutOperation")),1)])])),default:p((()=>[m(s,null,{default:p((()=>[se])),_:1})])),_:1})])),_:1})])),_:1})],64)}}}),[["__scopeId","data-v-ec550ec6"],["__file","/Users/alex/Downloads/万界星空/产品研发/MES框架/dev/xiejinrun/new_open_mes_front/src/views/home/Index.vue"]]);export{le as default};
