import{d as o,a2 as e,e as a,o as s,G as n,p as l,a as c,z as t,W as r,aO as i,_ as m,bl as d,bm as u,bn as _,bo as p,bp as g,O as f,bq as w,a_ as h,w as v,k as b,c as L,n as j,X as C,t as D,F as x,Y as E}from"./index-4bfb878d.js";import{u as k}from"./useIcon-56588282.js";import{E as I,a as T,b as y}from"./el-dropdown-item-4cc42342.js";const O="var(--el-color-black)",S=m(o({__name:"ThemeSwitch",setup(o){const{getPrefixCls:m}=r(),d=m("theme-switch"),u=k({icon:"emojione-monotone:sun",color:"#fde047"}),_=k({icon:"emojione-monotone:crescent-moon",color:"#fde047"}),p=e(),g=a(p.getIsDark),f=o=>{p.setIsDark(o)};return(o,e)=>{const a=i;return s(),n(a,{class:l(c(d)),modelValue:c(g),"onUpdate:modelValue":e[0]||(e[0]=o=>t(g)?g.value=o:null),"inline-prompt":"","border-color":O,"inactive-color":O,"active-color":O,"active-icon":c(u),"inactive-icon":c(_),onChange:f},null,8,["class","modelValue","active-icon","inactive-icon"])}}}),[["__scopeId","data-v-78cd11f1"],["__file","/Users/alex/Downloads/万界星空/产品研发/MES框架/dev/xiejinrun/new_open_mes_front/src/layout/components/ThemeSwitch/src/ThemeSwitch.vue"]]),V=()=>({changeLocale:async o=>{const e=d.global,a=await u(Object.assign({"../../locales/en.ts":()=>_((()=>import("./en-043ceffb.js")),[]),"../../locales/zh-CN.ts":()=>_((()=>import("./zh-CN-f913543d.js")),[])}),`../../locales/${o}.ts`);e.setLocaleMessage(o,a.default),(o=>{const e=p();"legacy"===d.mode?d.global.locale=o:d.global.locale.value=o,e.setCurrentLocale({lang:o}),g(o)})(o)}}),z=m(o({__name:"LocaleDropdown",props:{color:f.string.def("")},setup(o){const{getPrefixCls:e}=r(),a=e("locale-dropdown"),t=w(),i=h((()=>t.getLocaleMap)),m=h((()=>t.getCurrentLocale)),d=o=>{if(o===c(m).lang)return;window.location.reload(),t.setCurrentLocale({lang:o});const{changeLocale:e}=V();e(o)};return(e,t)=>{const r=E,m=T,u=y,_=I;return s(),n(_,{class:l(c(a)),trigger:"click",onCommand:d},{dropdown:v((()=>[b(u,null,{default:v((()=>[(s(!0),L(x,null,j(c(i),(o=>(s(),n(m,{key:o.lang,command:o.lang},{default:v((()=>[C(D(o.name),1)])),_:2},1032,["command"])))),128))])),_:1})])),default:v((()=>[b(r,{size:18,icon:"ion:language-sharp",class:l(["cursor-pointer",e.$attrs.class]),color:o.color},null,8,["class","color"])])),_:1},8,["class"])}}}),[["__file","/Users/alex/Downloads/万界星空/产品研发/MES框架/dev/xiejinrun/new_open_mes_front/src/layout/components/LocaleDropdown/src/LocaleDropdown.vue"]]);export{z as L,S as T};
