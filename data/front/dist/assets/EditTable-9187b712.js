import{d as e,O as t,e as a,P as n,Q as o,g as l,R as s,S as i,T as r,o as u,c as d,j as c,U as f,p,V as v,a as m,_ as x,k as _,w as g,W as b,l as w,X as y,t as h,q as k,Y as C,Z as j,u as I,$ as S,G as R,z as $,K as B,A as D,B as z,L as U,H as E}from"./index-4bfb878d.js";import V from"./BasicInfoForm-6c1e2da5.js";import W from"./CloumInfoForm-26f8280b.js";import{g as F,u as N}from"./index-33f98cf5.js";import"./index-9f33c93a.js";import"./tree-5260b4e2.js";import"./formRules-eb36c657.js";import"./dict.type-24e241ce.js";const T=c("div",null,"sticky",-1),M=x(e({__name:"Sticky",props:{offset:t.number.def(0),zIndex:t.number.def(999),className:t.string.def(""),position:{type:String,validator:function(e){return-1!==["top","bottom"].indexOf(e)},default:"top"}},setup(e){const t=e,x=a("auto"),_=a("auto"),g=a(!1),b=n(),w=n(),{height:y}=o();l((()=>{var e;_.value=(null==(e=b.value)?void 0:e.getBoundingClientRect().height)+"px",w.value=k(b.value,!0),s(w,"scroll",C),s("resize",j),C()})),i((()=>{C()}));const h=(e,t)=>{if(!r)return!1;const a=((e,t)=>{var a;if(!r||!e||!t)return"";t.replace(/-(\w)/g,((e,t)=>t?t.toUpperCase():""));try{const n=e.style[t];if(n)return n;const o=null==(a=document.defaultView)?void 0:a.getComputedStyle(e,"");return o?o[t]:""}catch{return e.style[t]}})(e,{undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(t)]);return["scroll","auto","overlay"].some((e=>a.includes(e)))},k=(e,t)=>{if(!r)return;let a=e;for(;a;){if([window,document,document.documentElement].includes(a))return window;if(h(a,t))return a;a=a.parentNode}return a},C=()=>{var e,a;if(x.value=b.value.getBoundingClientRect().width+"px","top"===t.position){const a=null==(e=b.value)?void 0:e.getBoundingClientRect().top;if(void 0!==a&&a<t.offset)return void I();S()}else{const e=null==(a=b.value)?void 0:a.getBoundingClientRect().bottom;if(void 0!==e&&e>y.value-t.offset)return void I();S()}},j=()=>{g.value&&b.value&&(x.value=b.value.getBoundingClientRect().width+"px")},I=()=>{g.value||(g.value=!0)},S=()=>{g.value&&(x.value="auto",g.value=!1)};return(t,a)=>(u(),d("div",{style:v({height:m(_),zIndex:e.zIndex}),ref_key:"refSticky",ref:b},[c("div",{class:p(e.className),style:v({top:"top"===e.position?e.offset+"px":"",bottom:"top"!==e.position?e.offset+"px":"",zIndex:e.zIndex,position:m(g)?"fixed":"static",width:m(x),height:m(_)})},[f(t.$slots,"default",{},(()=>[T]))],6)],4))}}),[["__file","/Users/alex/Downloads/万界星空/产品研发/MES框架/dev/xiejinrun/new_open_mes_front/src/components/Sticky/src/Sticky.vue"]]),q={class:"text-16px font-700"},O={style:{padding:"var(--app-content-padding)"}},P=x(e({__name:"ContentDetailWrap",props:{title:t.string.def(""),message:t.string.def("")},emits:["back"],setup(e,{emit:t}){const{t:n}=k(),{getPrefixCls:o}=b(),s=o("content-detail-wrap"),i=a(85),r=a();return l((()=>{i.value=r.value.getBoundingClientRect().top})),(a,o)=>{const l=C,v=j,x=M,b=w;return u(),d("div",{class:p([`${m(s)}-container`]),ref_key:"contentDetailWrap",ref:r},[_(x,{offset:m(i)},{default:g((()=>[c("div",{class:p([`${m(s)}-header`,"flex border-bottom-1 h-50px items-center text-center pr-10px"])},[c("div",{class:p([`${m(s)}-header__back`,"flex pl-10px pr-10px "])},[_(v,{onClick:o[0]||(o[0]=e=>t("back"))},{default:g((()=>[_(l,{icon:"ep:arrow-left",class:"mr-5px"}),y(" "+h(m(n)("common.back")),1)])),_:1})],2),c("div",{class:p([`${m(s)}-header__title`,"flex flex-1  justify-center"])},[f(a.$slots,"title",{},(()=>[c("label",q,h(e.title),1)]))],2),c("div",{class:p([`${m(s)}-header__right`,"flex  pl-10px pr-10px"])},[f(a.$slots,"right")],2)],2)])),_:3},8,["offset"]),c("div",O,[_(b,{class:p([`${m(s)}-body`,"mb-20px"]),shadow:"never"},{default:g((()=>[c("div",null,[f(a.$slots,"default")])])),_:3},8,["class"])])],2)}}}),[["__file","/Users/alex/Downloads/万界星空/产品研发/MES框架/dev/xiejinrun/new_open_mes_front/src/components/ContentDetailWrap/src/ContentDetailWrap.vue"]]),X=x(e({__name:"EditTable",setup(e){const{t:t}=k(),n=B(),{push:o}=I(),{query:s}=S(),i=a(!1),r=a("代码生成"),d=a("basicInfo"),c=a(null),f=a(),p=a([]),v=a();return l((()=>{(async()=>{const e=s.id;if(e){const t=await F(e);r.value="修改[ "+t.table.tableName+" ]生成配置",f.value=t.table,p.value=t.columns}})()})),(e,a)=>{const l=D,s=z,x=U,b=P,w=E;return u(),R(w,null,{default:g((()=>[_(b,{title:m(r),onBack:a[2]||(a[2]=e=>m(o)("/infra/codegen"))},{right:g((()=>[_(x,{type:"primary",title:m(t)("action.save"),loading:m(i),onClick:a[1]||(a[1]=e=>(async()=>{var e,a;const l=m(v);if(await(null==(a=null==(e=null==l?void 0:l.elFormRef)?void 0:e.validate())?void 0:a.catch((()=>{})))){const e={table:await(null==l?void 0:l.getFormData()),columns:p.value};await N(e),n.success(t("common.updateSuccess")),o("/infra/codegen")}})())},null,8,["title","loading"])])),default:g((()=>[_(s,{modelValue:m(d),"onUpdate:modelValue":a[0]||(a[0]=e=>$(d)?d.value=e:null)},{default:g((()=>[_(l,{label:"基本信息",name:"basicInfo"},{default:g((()=>[_(m(V),{ref_key:"basicInfoRef",ref:v,basicInfo:m(f)},null,8,["basicInfo"])])),_:1}),_(l,{label:"字段信息",name:"cloum"},{default:g((()=>[_(m(W),{ref_key:"cloumInfoRef",ref:c,info:m(p)},null,8,["info"])])),_:1})])),_:1},8,["modelValue"])])),_:1},8,["title"])])),_:1})}}}),[["__file","/Users/alex/Downloads/万界星空/产品研发/MES框架/dev/xiejinrun/new_open_mes_front/src/views/infra/codegen/EditTable.vue"]]);export{X as default};
