import{q as e,f as t,D as a,d as i,u as o,e as s,a6 as l,C as r,o as n,G as m,w as d,k as p,a as u,I as c,z as f,J as y,L as b,M as C,N as _,a0 as k,H as w,_ as h}from"./index-4bfb878d.js";import{a as S,d as T,g as j}from"./index-cfea5fec.js";import{r as x}from"./formRules-eb36c657.js";import{u as v}from"./useVxeCrudSchemas-092b8963.js";import{b as I}from"./formCreate-a3356cdc.js";import{u as g}from"./useXTable-309dffed.js";const{t:D}=e();t({name:[x]});const F=t({primaryKey:"id",primaryType:"id",primaryTitle:"表单编号",action:!0,columns:[{title:"表单名",field:"name",isSearch:!0},{title:D("common.status"),field:"status",dictType:a.COMMON_STATUS,dictClass:"number"},{title:"备注",field:"remark"},{title:D("common.createTime"),field:"createTime",formatter:"formatDate",isForm:!1,table:{width:180}}]}),{allSchemas:M}=v(F),V=i({name:"BpmForm"}),q=h(i({...V,setup(t){const{t:a}=e(),{push:i}=o(),[h,{deleteData:x}]=g({allSchemas:M,getListApi:S,deleteApi:T}),v=s(!1),D=s({rule:[],option:{}});return(e,t)=>{const o=b,s=C,S=_,T=l("form-create"),g=k,F=w,M=r("hasPermi");return n(),m(F,null,{default:d((()=>[p(S,{onRegister:u(h)},{toolbar_buttons:d((()=>[c(p(o,{type:"primary",preIcon:"ep:zoom-in",title:u(a)("action.add"),onClick:t[0]||(t[0]=e=>{i({name:"bpmFormEditor"})})},null,8,["title"]),[[M,["system:post:create"]]])])),actionbtns_default:d((({row:e})=>[c(p(s,{preIcon:"ep:edit",title:u(a)("action.edit"),onClick:t=>(async e=>{await i({name:"bpmFormEditor",query:{id:e}})})(e.id)},null,8,["title","onClick"]),[[M,["bpm:form:update"]]]),c(p(s,{preIcon:"ep:view",title:u(a)("action.detail"),onClick:t=>(async e=>{const t=await j(e);I(D,t.conf,t.fields),v.value=!0})(e.id)},null,8,["title","onClick"]),[[M,["bpm:form:query"]]]),c(p(s,{preIcon:"ep:delete",title:u(a)("action.del"),onClick:t=>u(x)(e.id)},null,8,["title","onClick"]),[[M,["bpm:form:delete"]]])])),_:1},8,["onRegister"]),p(g,{modelValue:u(v),"onUpdate:modelValue":t[1]||(t[1]=e=>f(v)?v.value=e:null),width:"800",title:"表单详情"},{default:d((()=>[u(v)?(n(),m(T,{key:0,rule:u(D).rule,option:u(D).option},null,8,["rule","option"])):y("",!0)])),_:1},8,["modelValue"])])),_:1})}}}),[["__file","/Users/alex/Downloads/万界星空/产品研发/MES框架/dev/xiejinrun/new_open_mes_front/src/views/bpm/form/index.vue"]]);export{q as default};
