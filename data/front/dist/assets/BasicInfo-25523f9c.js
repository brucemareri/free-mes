import{d as e,f as a,e as l,g as s,o as r,c as o,k as n,w as i,X as t,t as u,a as m,F as c,q as f,aR as p,ac as d,ad as g,aJ as b,L as _,_ as v}from"./index-4bfb878d.js";import{u as w,g as x}from"./profile-d343b4ae.js";const k=v(e({__name:"BasicInfo",setup(e){const{t:v}=f(),k=a({nickname:[{required:!0,message:v("profile.rules.nickname"),trigger:"blur"}],email:[{required:!0,message:v("profile.rules.mail"),trigger:"blur"},{type:"email",message:v("profile.rules.truemail"),trigger:["blur","change"]}],mobile:[{required:!0,message:v("profile.rules.phone"),trigger:"blur"},{pattern:/^1[3|4|5|6|7|8|9][0-9]\d{8}$/,message:v("profile.rules.truephone"),trigger:"blur"}]}),h=a([{field:"nickname",label:v("profile.user.nickname"),component:"Input"},{field:"mobile",label:v("profile.user.mobile"),component:"Input"},{field:"email",label:v("profile.user.email"),component:"Input"},{field:"sex",label:v("profile.user.sex"),component:"InputNumber",value:0}]),y=l(),I=async()=>{var e;const a=await x();null==(e=m(y))||e.setValues(a)};return s((async()=>{await I()})),(e,a)=>{const l=d,s=g,f=b,x=_;return r(),o(c,null,[n(f,{ref_key:"formRef",ref:y,rules:m(k),schema:m(h),labelWidth:80},{sex:i((e=>[n(s,{modelValue:e.sex,"onUpdate:modelValue":a=>e.sex=a},{default:i((()=>[n(l,{label:1},{default:i((()=>[t(u(m(v)("profile.user.man")),1)])),_:1}),n(l,{label:2},{default:i((()=>[t(u(m(v)("profile.user.woman")),1)])),_:1})])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:1},8,["rules","schema"]),n(x,{title:m(v)("common.save"),onClick:a[0]||(a[0]=e=>(()=>{var e;const a=null==(e=m(y))?void 0:e.getElFormRef();a&&a.validate((async e=>{var a;if(e){const e=null==(a=m(y))?void 0:a.formModel;await w(e),p.success(v("common.updateSuccess")),await I()}}))})())},null,8,["title"]),n(x,{type:"danger",title:m(v)("common.reset"),onClick:a[1]||(a[1]=e=>I())},null,8,["title"])],64)}}}),[["__file","/Users/alex/Downloads/万界星空/产品研发/MES框架/dev/xiejinrun/new_open_mes_front/src/views/profile/components/BasicInfo.vue"]]);export{k as default};
