import{q as e,f as t,D as a,r as i,d as l,e as r,C as s,o,c as n,k as d,w as c,a as u,I as m,z as f,F as p,L as y,M as h,N as S,H as T,a1 as _,a0 as I,_ as x}from"./index-4bfb878d.js";import{r as w}from"./formRules-eb36c657.js";import{u as R}from"./useVxeCrudSchemas-092b8963.js";import{u as b}from"./useXTable-309dffed.js";const{t:g}=e();t({merchantId:[w],appId:[w],merchantOrderId:[w],subject:[w],body:[w],notifyUrl:[w],notifyStatus:[w],amount:[w],status:[w],userIp:[w],expireTime:[w],refundStatus:[w],refundTimes:[w],refundAmount:[w]});const A=t({primaryKey:"id",primaryType:"seq",primaryTitle:"岗位编号",action:!0,columns:[{title:"商户编号",field:"merchantId",isSearch:!0},{title:"应用编号",field:"appId",isSearch:!0},{title:"渠道编号",field:"channelId"},{title:"渠道编码",field:"channelCode",isSearch:!0},{title:"渠道订单号",field:"merchantOrderId",isSearch:!0},{title:"商品标题",field:"subject"},{title:"商品描述",field:"body"},{title:"异步通知地址",field:"notifyUrl"},{title:"回调状态",field:"notifyStatus",dictType:a.PAY_ORDER_NOTIFY_STATUS,dictClass:"number"},{title:"支付金额",field:"amount",isSearch:!0},{title:"渠道手续费",field:"channelFeeRate",isSearch:!0},{title:"渠道手续金额",field:"channelFeeAmount",isSearch:!0},{title:"支付状态",field:"status",dictType:a.PAY_ORDER_STATUS,dictClass:"number",isSearch:!0},{title:"用户 IP",field:"userIp"},{title:"订单失效时间",field:"expireTime",formatter:"formatDate"},{title:"支付时间",field:"successTime",formatter:"formatDate"},{title:"支付通知时间",field:"notifyTime",formatter:"formatDate"},{title:"拓展编号",field:"successExtensionId"},{title:"退款状态",field:"refundStatus",dictType:a.PAY_ORDER_REFUND_STATUS,dictClass:"number",isSearch:!0},{title:"退款次数",field:"refundTimes"},{title:"退款总金额",field:"refundAmount"},{title:"渠道用户编号",field:"channelUserId"},{title:"渠道订单号",field:"channelOrderNo"},{title:g("common.createTime"),field:"createTime",formatter:"formatDate",isForm:!1,search:{show:!0,itemRender:{name:"XDataTimePicker"}}}]}),{allSchemas:C}=R(A),D=async e=>await i.get({url:"/pay/order/page",params:e}),v=async e=>await i.download({url:"/pay/order/export-excel",params:e}),U=l({name:"Order"}),O=x(l({...U,setup(t){const{t:a}=e(),[l,{exportList:x}]=b({allSchemas:C,getListApi:D,exportListApi:v}),w=r(!1),R=r(""),g=r(!1),A=r("edit"),U=r(),O=e=>{A.value=a("action."+e),R.value=e,g.value=!0},j=async e=>{O("detail");const t=await(async e=>await i.get({url:"/pay/order/get?id="+e}))(e);U.value=t};return(e,t)=>{const i=y,r=h,R=S,b=T,D=_,v=I,k=s("hasPermi");return o(),n(p,null,[d(b,null,{default:c((()=>[d(R,{onRegister:u(l)},{toolbar_buttons:c((()=>[m(d(i,{type:"primary",preIcon:"ep:zoom-in",title:u(a)("action.add"),onClick:t[0]||(t[0]=e=>{O("create")})},null,8,["title"]),[[k,["pay:order:create"]]]),m(d(i,{type:"warning",preIcon:"ep:download",title:u(a)("action.export"),onClick:t[1]||(t[1]=e=>u(x)("订单数据.xls"))},null,8,["title"]),[[k,["pay:order:export"]]])])),actionbtns_default:c((({row:e})=>[m(d(r,{preIcon:"ep:view",title:u(a)("action.detail"),onClick:t=>j(e.id)},null,8,["title","onClick"]),[[k,["pay:order:query"]]])])),_:1},8,["onRegister"])])),_:1}),d(v,{modelValue:u(g),"onUpdate:modelValue":t[3]||(t[3]=e=>f(g)?g.value=e:null),title:u(A)},{footer:c((()=>[d(i,{loading:u(w),title:u(a)("dialog.close"),onClick:t[2]||(t[2]=e=>g.value=!1)},null,8,["loading","title"])])),default:c((()=>[d(D,{schema:u(C).detailSchema,data:u(U)},null,8,["schema","data"])])),_:1},8,["modelValue","title"])],64)}}}),[["__file","/Users/alex/Downloads/万界星空/产品研发/MES框架/dev/xiejinrun/new_open_mes_front/src/views/pay/order/index.vue"]]);export{O as default};
