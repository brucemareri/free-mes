import{d as e,q as a,K as s,u as t,C as n,o,G as i,w as r,k as l,a as c,I as p,J as u,aK as m,L as d,M as _,N as f,H as k,_ as v}from"./index-4bfb878d.js";import{a as x,b as C}from"./leave.data-1ed64107.js";import{a as b}from"./index-ca7d0818.js";import{u as I}from"./useXTable-309dffed.js";import"./useVxeCrudSchemas-092b8963.js";const w=v(e({__name:"index",setup(e){const{t:v}=a(),w=s(),{push:S}=t(),[j,{reload:y}]=I({allSchemas:x,getListApi:C});return(e,a)=>{const s=d,t=_,x=f,C=k,I=n("hasPermi");return o(),i(C,null,{default:r((()=>[l(x,{onRegister:c(j)},{toolbar_buttons:r((()=>[l(s,{type:"primary",preIcon:"ep:plus",title:"发起请假",onClick:a[0]||(a[0]=e=>{S({name:"OALeaveCreate"})})})])),actionbtns_default:r((({row:e})=>[1===e.result?p((o(),i(t,{key:0,preIcon:"ep:delete",title:"取消请假",onClick:a=>(e=>{m.prompt("请输入取消原因","取消流程",{confirmButtonText:v("common.ok"),cancelButtonText:v("common.cancel"),inputPattern:/^[\s\S]*.*\S[\s\S]*$/,inputErrorMessage:"取消原因不能为空"}).then((async({value:a})=>{await b(e.id,a),w.success("取消成功"),y()}))})(e)},null,8,["onClick"])),[[I,["bpm:oa-leave:create"]]]):u("",!0),l(t,{preIcon:"ep:view",title:c(v)("action.detail"),onClick:a=>(e=>{S({name:"OALeaveDetail",query:{id:e.id}})})(e)},null,8,["title","onClick"]),l(t,{preIcon:"ep:edit-pen",title:"审批进度",onClick:a=>(e=>{S({name:"BpmProcessInstanceDetail",query:{id:e.processInstanceId}})})(e)},null,8,["onClick"])])),_:1},8,["onRegister"])])),_:1})}}}),[["__file","/Users/alex/Downloads/万界星空/产品研发/MES框架/dev/xiejinrun/new_open_mes_front/src/views/bpm/oa/leave/index.vue"]]);export{w as default};
